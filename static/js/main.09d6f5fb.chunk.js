(this.webpackJsonptest=this.webpackJsonptest||[]).push([[0],{30:function(e,t,a){e.exports=a(43)},35:function(e,t,a){},38:function(e,t,a){e.exports=a.p+"static/media/logo.5d5d9eef.svg"},39:function(e,t,a){},43:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),r=a(11),l=a.n(r),i=(a(35),a(36),a(13)),o=a.n(i),c=a(19),h=a(7),u=a(8),d=a(5),m=a(10),p=a(9),f=(a(38),a(39),function(e){Object(m.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(h.a)(this,a),(n=t.call(this,e)).state={cases:17038,deaths:220,statesData:[]},n.calculate(),n.handleCasesChange=n.handleCasesChange.bind(Object(d.a)(n)),n.handleDeathsChange=n.handleDeathsChange.bind(Object(d.a)(n)),n.handleStateSelect=n.handleStateSelect.bind(Object(d.a)(n)),n.handleOfficialChange=n.handleOfficialChange.bind(Object(d.a)(n)),n.handleLocationChange=n.handleLocationChange.bind(Object(d.a)(n)),n.state.official=n.props.parent.state.official,n.state.state=n.props.parent.state.state,n}return Object(u.a)(a,[{key:"handleCasesChange",value:function(e){this.setState({cases:e.target.value}),this.calculate(e.target.value)}},{key:"handleDeathsChange",value:function(e){this.setState({deaths:e.target.value}),this.calculate(null,e.target.value)}},{key:"calculate",value:function(e,t){e=e||this.state.cases,t=t||this.state.deaths;var a=0,n=0;0!=e&&0==t?(a=e*Math.pow(2,4.2),n=e*Math.pow(2,4.2)*.013):0==e&&0==t?(a=0,n=0):(a=e*Math.pow(2,4.2),n=e*Math.pow(2,4.2)*(t/e)),this.props.parent.setState({futureCases:this.roundToNearestTenth(a)}),this.props.parent.setState({futureDeaths:this.roundToNearestTenth(n)})}},{key:"roundToNearestTenth",value:function(e){return 10*Math.round(e/10)}},{key:"handleStateSelect",value:function(e){var t=this.props.statesData[e.target.value];this.setState({cases:t.Cases,deaths:t.Deaths}),this.props.parent.setState({state:t.State,official:t["Twitter Handle"]}),this.calculate(t.Cases,t.Deaths)}},{key:"handleOfficialChange",value:function(e){this.props.parent.setState({official:e.target.value}),this.setState({official:e.target.value})}},{key:"handleLocationChange",value:function(e){this.props.parent.setState({state:e.target.value}),this.setState({state:e.target.value})}},{key:"render",value:function(){return s.a.createElement("div",{className:"item"},s.a.createElement("h3",null,"Plug in your Area\u2019s Data"),s.a.createElement("form",null,s.a.createElement("label",null,"State:",s.a.createElement("br",null),s.a.createElement("select",{id:"state",onChange:this.handleStateSelect},this.props.statesData.map((function(e,t){return s.a.createElement("option",{value:t,key:t},e.State)})))),s.a.createElement("br",null),s.a.createElement("label",null,"Cases Right Now  ",s.a.createElement("br",null),s.a.createElement("input",{type:"number",name:"name",value:this.state.cases,onChange:this.handleCasesChange})),s.a.createElement("br",null),s.a.createElement("label",null,"Deaths Right Now  ",s.a.createElement("br",null),s.a.createElement("input",{type:"number",name:"name",value:this.state.deaths,onChange:this.handleDeathsChange})),s.a.createElement("br",null),s.a.createElement("label",null,"Who to Tag  ",s.a.createElement("br",null),s.a.createElement("input",{type:"text",name:"name",value:this.state.official,onChange:this.handleOfficialChange})),s.a.createElement("br",null),s.a.createElement("label",null,"Location  ",s.a.createElement("br",null),s.a.createElement("input",{type:"text",name:"name",value:this.state.state,onChange:this.handleLocationChange})),s.a.createElement("br",null)),"In three weeks...",s.a.createElement("br",null),this.props.parent.state.futureCases," Cases",s.a.createElement("br",null),this.props.parent.state.futureDeaths," Deaths")}}]),a}(s.a.Component)),g=a(45),v=a(48),b=function(e){Object(m.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(h.a)(this,a),n=t.call(this,e),console.log(e),n.handleChange=n.handleChange.bind(Object(d.a)(n)),n.state={textarea:n.makeText()},n}return Object(u.a)(a,[{key:"handleChange",value:function(e){this.setState({textarea:e.target.value})}},{key:"getWebsiteURL",value:function(){return window.location.href.split(/[?#]/)[0]}},{key:"makeText",value:function(){return".".concat(this.props.official," three weeks from now, we could have ").concat(this.props.futureCases," cases and ").concat(this.props.futureDeaths," deaths in ").concat(this.props.state,". Will you be ready to act then? We can\u2019t wait till 3 weeks from now. See how this was calculated at ").concat(this.getWebsiteURL()," #FlattenTheCurve #ThreeWeeks ")}},{key:"render",value:function(){console.log("tweet"),console.log(this.props);var e=this.makeText();return s.a.createElement("div",{className:"item"},s.a.createElement("h3",null,"Take Action"),s.a.createElement(g.a,{variant:"primary",target:"_blank",onClick:function(){var t="https://twitter.com/intent/tweet?hashtags=FlattenTheCurve%20%23ThreeWeeksBehind&text=".concat(e);window.open(t,"_blank")}},"Tweet This"),s.a.createElement("br",null),s.a.createElement("br",null),s.a.createElement(v.a.Control,{as:"textarea",rows:"7",value:e}),"This is an example tweet. After clicking tweet, you can edit and confirm before sending. We will not make tweets without your permission.")}}]),a}(s.a.Component),w=a(46),C=a(47),E=a(24),k=a(49),y=a(25),D=a.n(y),S=function(e){Object(m.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(h.a)(this,a),(n=t.call(this,e)).state={},n.state.text="",n.state.futureDeaths=313150,n.state.futureCases=4050,n.state.state="the United States",n.state.official="@realDonaldTrump",n.state.statesData=[],n.getData=n.getData.bind(Object(d.a)(n)),n}return Object(u.a)(a,[{key:"componentWillMount",value:function(){this.getCSVData()}},{key:"fetchCSV",value:function(){var e=Object(c.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fetch("https://docs.google.com/spreadsheets/d/1FmDsmAq3fX9K2BAsfh6EibpnRxhV-DNvMSlX_fiLHOc/export?format=csv&id=1FmDsmAq3fX9K2BAsfh6EibpnRxhV-DNvMSlX_fiLHOc&gid=0").then((function(e){var t=e.body.getReader(),a=new TextDecoder("utf-8");return t.read().then((function(e){return a.decode(e.value)}))})));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"getData",value:function(e){var t=e.data;t.pop(),t.pop(),t.pop(),t.pop(),this.setState({statesData:t})}},{key:"getCSVData",value:function(){var e=Object(c.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.fetchCSV();case 2:t=e.sent,D.a.parse(t,{header:!0,complete:this.getData});case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return console.log("update!"),console.log(this.state),console.log(this.state.statesData),s.a.createElement("div",{className:"App"},s.a.createElement("header",{className:"App-header"},s.a.createElement("h1",null,"COVID-19 - ",s.a.createElement("code",null,"3 Weeks From Now"))),"Experts say that it could take up to the three weeks before we see the effects of our actions in reducing hospitalizations and deaths. We're worried that our elected officials aren't thinking ahead.",s.a.createElement("br",null),s.a.createElement(g.a,{variant:"success",href:"https://www.imperial.ac.uk/media/imperial-college/medicine/sph/ide/gida-fellowships/Imperial-College-COVID19-NPI-modelling-16-03-2020.pdf"},"Imperial College Paper"),s.a.createElement(g.a,{variant:"warning",href:"https://docs.google.com/spreadsheets/d/1FmDsmAq3fX9K2BAsfh6EibpnRxhV-DNvMSlX_fiLHOc/"},"Current Data"),s.a.createElement("br",null),s.a.createElement(w.a,null,s.a.createElement(C.a,null,s.a.createElement(E.a,{xs:12,md:5},s.a.createElement(f,{parent:this,statesData:this.state.statesData})),s.a.createElement(E.a,null,s.a.createElement(b,{official:this.state.official,futureCases:this.state.futureCases,futureDeaths:this.state.futureDeaths,state:this.state.state})))),s.a.createElement(k.a,{variant:"primary"},"Note that this is intended as a rough estimate of the consequences of doing nothing, not an expert forecast. There are many reasons that our numbers could be incorrect, including the data itself -- many cases are going undetected right now, which means the total cases reported are too low and the death rate may be overestimated. Calculations are based on a five day doubling time and a 1.3% average population death rate for the US."),s.a.createElement(k.a,{variant:"dark",className:"footer"},"Created with \u2764\ufe0f by ",s.a.createElement("a",{href:"https://twitter.com/realronakshah"},"Ronak Shah")," @ UCSD. Data insights from ",s.a.createElement("a",{href:"https://twitter.com/diddykrish"},"Aditya Krishnaswamy")," and ",s.a.createElement("a",{href:"https://twitter.com/Malar0ne"},"Mallory Harris")," from UGA. Code available on ",s.a.createElement("a",{href:"https://github.com/ronakdev/covidthree"},"Github"),"."))}}]),a}(s.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(s.a.createElement(S,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[30,1,2]]]);
//# sourceMappingURL=main.09d6f5fb.chunk.js.map